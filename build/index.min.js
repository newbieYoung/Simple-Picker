!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.simplepicker=e():t.SimplePicker=e()}(window,(function(){return function(t){var e={};function i(s){if(e[s])return e[s].exports;var o=e[s]={i:s,l:!1,exports:{}};return t[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(s,o,function(e){return t[e]}.bind(null,o));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){var s,o,n;o=[i(1)],void 0===(n="function"==typeof(s=function(t){window.requestAnimFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.webkitRequestAnimationFrame;var e=t.prefix("transform"),i=t.prefix("transitionDuration");function s(t,e,i){t.addEventListener(e,i)}function o(t,e,i){t.removeEventListener(e,i)}function n(t){return document.querySelector(t)}function r(t){return document.querySelectorAll(t)}function h(t,e){for(var i=0,s=0,o=e.length;s<o;s++)e[s].value===t&&(i=s);return i}function a(t){t&&"object"==typeof t?(this.data=t.data,this.default=t.default||null,this.result=this.default,this.onChangeEnd=t.onChangeEnd||function(){},this.onConfirm=t.onConfirm||function(){},this._id=t.id?t.id:"",this.id=this._id+"-picker-"+(new Date).getTime(),this.itemHeight=t.itemHeight||36,this.listHeight=t.listHeight||6*this.itemHeight,this.topGapHeight=t.topGapHeight||0,this.bottomGapHeight=t.bottomGapHeight||0,this.itemStyle=t.itemStyle||null,this.zIndex=t.zIndex||1e3,this.position=t.position||"relative",this.headVisible=null==t.headVisible||t.headVisible,this.maskVisible=null==t.maskVisible||t.maskVisible,this.init()):console.error("参数异常")}return a.prototype.constructor=function(){var t="";t+='<div class="picker-component">',this.maskVisible&&(t+='<div class="pk-cover"></div>'),t+='<div class="pk-target">',this.headVisible&&(t+='<div class="pt-header"><span class="ph-cancel">取消</span><span class="ph-confirm">确定</span></div>'),this.topGapHeight>0&&(t+='<div class="pt-top-gap"></div>'),t+='<div class="pt-list">',t+='<div class="pl-top-cover"></div>',t+=this.renderCols(),t+='<div class="pl-bottom-cover"></div>',t+="</div>",this.bottomGapHeight>0&&(t+='<div class="pt-bottom-gap"></div>'),t+="</div>",t+="</div>",this.$target=document.createElement("div"),this.$target.id=this.id,this.$target.style.zIndex=this.zIndex,this.$target.style.position=this.position,this.$target.innerHTML=t,document.body.appendChild(this.$target)},a.prototype.init=function(){this.constructor(),this.$picker=n("#"+this.id+" .pk-target"),this.maskVisible&&(this.$cover=n("#"+this.id+" .pk-cover")),this.headVisible&&(this.$cancel=n("#"+this.id+" .ph-cancel"),this.$confirm=n("#"+this.id+" .ph-confirm"),this.btnEvent()),this.topGapHeight>0&&(this.$topGap=n("#"+this.id+" .pt-top-gap"),this.$topGap.style.height=this.topGapHeight+"px"),this.bottomGapHeight>0&&(this.$bottomGap=n("#"+this.id+" .pt-bottom-gap"),this.$bottomGap.style.height=this.bottomGapHeight+"px"),this.$list=n("#"+this.id+" .pt-list"),this.$list.style.height=this.listHeight+"px",this.$topCover=n("#"+this.id+" .pl-top-cover"),this.$bottomCover=n("#"+this.id+" .pl-bottom-cover");var t=(this.listHeight-this.itemHeight)/2;this.$topCover.style.height=t+"px",this.$bottomCover.style.height=t+"px",this.$colParents=r("#"+this.id+" .pl-col"),this.$cols=r("#"+this.id+" .pl-col ul");for(var e=0;e<this.data.length;e++){var i=h(this.default[e],this.data[e])*this.itemHeight;this.setOffset(e,i),this.moveListener(e,i)}},a.prototype.renderCols=function(){var t,e,i="",s=[];if(this.itemStyle)for(t=0;t<this.itemStyle.length;t++){s[t]="";var o=this.itemStyle[t];for(e=0;e<o.length;e++)s[t]+=o[e].property+":"+o[e].value+";"}for(t=0;t<this.data.length;t++){var n=this.data[t],r=s[t]||"";for(i+='<div class="pl-col">',i+="<ul>",e=0;e<n.length;e++)i+='<li style="'+r+'">'+n[e].title+"</li>";i+="</ul>",i+="</div>"}return i},a.prototype.setListHeight=function(t){this.listHeight=t,this.$list.style.height=this.listHeight+"px";var e=(this.listHeight-this.itemHeight)/2;this.$topCover.style.height=e+"px",this.$bottomCover.style.height=e+"px";for(var i=0;i<this.data.length;i++){var s=h(this.result[i],this.data[i])*this.itemHeight;this.setOffset(i,s)}},a.prototype.show=function(){var t=this;setTimeout((function(){t.maskVisible&&t.$cover.classList.add("pc-show"),t.$picker.classList.add("pc-show")}),20)},a.prototype.hide=function(){this.maskVisible&&this.$cover.classList.remove("pc-show"),this.$picker.classList.remove("pc-show")},a.prototype.getResult=function(t){var e=(this.listHeight-this.itemHeight)/2,i=parseInt(e/this.itemHeight);return i-(t-(e-this.itemHeight*i))/this.itemHeight},a.prototype.setOffset=function(t,s,o){var n=o>0?o:0;n>0&&(n>.4?n=.4:n<.2&&(n=.2));var r=this.$cols[t],h=this.listHeight/2-this.itemHeight/2-s;if(r.style[i]=n+"s",r.style[e]="translateY("+h+"px)",n>0){var a=this.getResult(h);this.result[t]=this.data[t][a].value,this.onChangeEnd(this.result)}},a.prototype.getEndOffset=function(t){return t=t%this.itemHeight>this.itemHeight/2?Math.ceil(t/this.itemHeight)*this.itemHeight:Math.floor(t/this.itemHeight)*this.itemHeight},a.prototype.btnEvent=function(){var t=this;s(this.$cancel,"click",(function(){t.hide()})),s(this.$confirm,"click",(function(){t.hide(),t.onConfirm(t.result)}))},a.prototype.moveListener=function(t,e){var i=this,n=0,r=0,h=e,a=t,l=this.$colParents[a],p=!1;function c(t){n=t.touches[0].pageY,r=(new Date).getTime(),p=!0}function u(t){t.preventDefault();var e=t.touches[0].pageY,s=n-e+h;i.setOffset(a,s),p=!0}function d(t){var e=t.changedTouches[0].pageY;h=n-e+h,p=!1;var s,o=(new Date).getTime(),l=(e-n)/(o-r),c=100*l;if(h<0)return s=Math.abs(h/c),h=0,void i.setOffset(a,h,s);if(h>i.data[a].length*i.itemHeight-i.itemHeight){var u=i.data[a].length*i.itemHeight-i.itemHeight;return s=Math.abs((h-u)/c),h=u,void i.setOffset(a,u,s)}window.requestAnimFrame((function(t){!function t(e,s){if(!p){var o=l*(s-e);if(Math.abs(l)<.05){if(h<0){var n=Math.abs(h/c);return h=0,void i.setOffset(a,h,n)}if(h>i.data[a].length*i.itemHeight-i.itemHeight){var r=i.data[a].length*i.itemHeight-i.itemHeight;return n=Math.abs((h-r)/c),h=r,void i.setOffset(a,r,n)}var u=h;return h=i.getEndOffset(h),n=Math.abs((h-u)/c),void i.setOffset(a,h,n)}h+=o,i.setOffset(a,h),l/=1.1,window.requestAnimFrame((function(i){t(i,e)}))}}(t,t)}))}o(l,"touchstart",c),o(l,"touchmove",u),o(l,"touchend",d),s(l,"touchstart",c),s(l,"touchmove",u),s(l,"touchend",d)},a})?s.apply(e,o):s)||(t.exports=n)},function(t,e,i){var s,o,n;o=[],void 0===(n="function"==typeof(s=function(){var t="undefined"!=typeof document?document.createElement("p").style:{},e=["O","ms","Moz","Webkit"],i=/([A-Z])/g,s={};function o(i){if(i=i.replace(/-([a-z])/g,(function(t,e){return e.toUpperCase()})),void 0!==t[i])return i;for(var s=i.charAt(0).toUpperCase()+i.slice(1),o=e.length;o--;){var n=e[o]+s;if(void 0!==t[n])return n}return i}return{prefix:function(t){return t in s?s[t]:s[t]=o(t)},dash:function(t){return t=o(t),i.test(t)&&(t=t.replace(i,"-$1"),i.lastIndex=0),t.toLowerCase()}}})?s.apply(e,o):s)||(t.exports=n)}])}));
//# sourceMappingURL=index.min.js.map